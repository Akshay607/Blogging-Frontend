{"ast":null,"code":"import logo from'./logo.svg';import React,{useContext,useMemo,createContext,useState}from'react';import{BrowserRouter,Routes,Route,Switch}from'react-router-dom';import{Auth,Login,Register,Logout}from'./components/Auth';import{Follower}from'./components/Follow';import{Profile}from'./components/profile';import{Nav}from'./components/Nav';import'./output.css';import{TweetsPage}from'./components/Tweet';import{DomainURL}from'./constants';//export const localStorage = createContext([])\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){// const [state, setState] = useState({\n//});\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App flex flex-col items-center  h-screen\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/3\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/tweets\",element:/*#__PURE__*/_jsx(TweetsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",element:/*#__PURE__*/_jsx(Logout,{})}),/*#__PURE__*/_jsx(Route,{path:\"/img\",element:/*#__PURE__*/_jsx(Img,{})})]})})})]});}const Img=()=>{const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();const fileInput=document.getElementById('fileInput');if(fileInput.files.length>0){formData.append('image',fileInput.files[0]);// Ensure 'image' matches the field name in multer configuration\ntry{const response=await fetch(\"\".concat(DomainURL,\"/img-upload\"),{method:'POST',body:formData});const result=await response.json();if(result.file){// Display uploaded file\ndisplayFile(result.file.filename);}else{console.error('Upload failed:',result);}}catch(error){console.error('Error:',error);}}else{console.error('No file selected');}};// Function to display uploaded file\nconst displayFile=filename=>{const filePreview=document.getElementById('filePreview');filePreview.innerHTML=\"<h2>Uploaded Image:</h2><img src=\\\"\".concat(DomainURL,\"/file/\").concat(filename,\"\\\" alt=\\\"\").concat(filename,\"\\\" style=\\\"max-width: 100%; height: auto;\\\">\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{id:\"uploadForm\",onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",name:\"file\",accept:\"image/*\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Upload\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-preview\",id:\"filePreview\"})]});};export default App;","map":{"version":3,"names":["logo","React","useContext","useMemo","createContext","useState","BrowserRouter","Routes","Route","Switch","Auth","Login","Register","Logout","Follower","Profile","Nav","TweetsPage","DomainURL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","className","children","path","element","Img","handleSubmit","e","preventDefault","formData","FormData","fileInput","document","getElementById","files","length","append","response","fetch","concat","method","body","result","json","file","displayFile","filename","console","error","filePreview","innerHTML","id","onSubmit","encType","type","name","accept","required"],"sources":["C:/Users/akshay.neje/Documents/akshay/projects/blogging app/frontend/Blogging-Frontend/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport React,{useContext, useMemo,createContext,useState} from 'react';\nimport { BrowserRouter, Routes, Route, Switch} from 'react-router-dom';\nimport { Auth, Login,Register,Logout } from './components/Auth';\nimport {Follower} from './components/Follow'\nimport { Profile } from './components/profile';\nimport {Nav} from './components/Nav'\nimport './output.css'\nimport { TweetsPage } from './components/Tweet';\nimport { DomainURL } from './constants';\n\n//export const localStorage = createContext([])\nfunction App() {\n // const [state, setState] = useState({\n  //});\n \n \n  return (\n    <div className=\"App flex flex-col items-center  h-screen\">\n      <Nav/>\n     <div className='w-2/3'>\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Login/>}/>\n          <Route path=\"/login\" element={<Login/>}/>\n          <Route path=\"/register\" element={<Register/>}/>\n          <Route path='/profile' element={<Profile/>}/>\n          <Route path='/tweets' element={<TweetsPage/>}/>\n          <Route path='/logout' element={<Logout/>}/>\n          <Route path='/img' element={<Img/>}/>\n        </Routes>\n      </BrowserRouter>\n\n      </div>\n     \n    </div>\n  );\n}\n\n\nconst Img = () => {\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n   \n    const formData = new FormData();\n    const fileInput = document.getElementById('fileInput');\n\n    if (fileInput.files.length > 0) {\n      formData.append('image', fileInput.files[0]); // Ensure 'image' matches the field name in multer configuration\n\n      try {\n        const response = await fetch(`${DomainURL}/img-upload`, {\n          method: 'POST',\n          body: formData,\n        });\n\n\n        const result = await response.json();\n        if (result.file) {\n          // Display uploaded file\n          displayFile(result.file.filename);\n        } else {\n          console.error('Upload failed:', result);\n        }\n      } catch (error) {\n        console.error('Error:', error);\n      }\n    } else {\n      console.error('No file selected');\n    }\n  };\n\n  // Function to display uploaded file\n  const displayFile = (filename) => {\n    const filePreview = document.getElementById('filePreview');\n    filePreview.innerHTML = `<h2>Uploaded Image:</h2><img src=\"${DomainURL}/file/${filename}\" alt=\"${filename}\" style=\"max-width: 100%; height: auto;\">`;\n  };\n\n  return (\n    <>\n      <form id=\"uploadForm\" onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <input type=\"file\" id=\"fileInput\" name=\"file\" accept=\"image/*\" required />\n        <button type=\"submit\">Upload</button>\n      </form>\n\n      <div className=\"file-preview\" id=\"filePreview\">\n        {/* Image preview will be inserted here */}\n      </div>\n    </>\n  );\n};\n\n\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}